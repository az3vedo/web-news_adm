{%extends 'template.html'%}
{%block body%}
  <div class="Adicionar Autor"></div>
  <div>
    <h1>Adicionar Autor</h1>
    <p> 
      <label for="autor">Autor:</label>
      <input type="text" id="autor" name="autor"><br><br>
    </p>
    <button>Adicionar</button>
  </div>
    <script type="text/javascript">
      function addAutor(){
        let autor = $("#autor").val();
        let json_request = JSON.stringify({"nome": autor})
        console.log(json_request)
        fetch('http://127.0.0.1:5100/autor/add/', {method: 'POST', body: json_request, headers: {"Content-Type": "application/json", "Access-Control-Allow-Origin": "*"}}).then((response)=>{
          console.log(response)
        }).catch((e)=>
        {console.log(e)
        })
      }
      $("button").on("click", ()=>addAutor())
    </script>
</div>
{%endblock%}
